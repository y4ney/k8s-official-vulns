---
CVSS 评分: [CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N) - **中危** (6.1)

在包含 Windows 节点的 Kubernetes 集群中发现一个安全问题：`BUILTIN\Users` 可能具备读取容器日志的权限，而 `NT AUTHORITY\Authenticated Users` 可能具备修改容器日志的权限。

该漏洞被评定为**中危** ([CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N))，编号为 **CVE-2024-5321**。

### 我的集群是否受影响？

所有包含 Windows 节点的 Kubernetes 环境均受影响。执行 `kubectl get nodes -l kubernetes.io/os=windows` 可查看是否存在 Windows 节点。

#### 受影响版本

- kubelet <= 1.27.15  
- kubelet <= 1.28.11  
- kubelet <= 1.29.6  
- kubelet <= 1.30.2  

### 如何缓解此漏洞？

应用官方补丁可修复此问题。该补丁修改了 `pkg/util/filesystem`，对 Windows 系统的文件权限进行了设置，并加固了 Windows 容器日志的访问权限。

#### 已修复版本

- kubelet 1.27.16  
- kubelet 1.28.12  
- kubelet 1.29.7  
- kubelet 1.30.3  

升级指南请参阅文档：https://kubernetes.io/docs/tasks/administer-cluster/cluster-upgrade/

### 检测方法

所有包含 Windows 节点的 Kubernetes 环境均受影响。执行 `kubectl get nodes -l kubernetes.io/os=windows` 可查看是否存在 Windows 节点。

若发现该漏洞被利用的迹象，请联系 security@kubernetes.io

#### 致谢

本漏洞由 SUSE 的 Paulo Gomes @pjbgf 报告。

修复工作由以下成员协作完成：  
Mark Rossetti @marosset  
James Sturtevant @jsturtevant  
Craig Ingram @cji  
Rita Zhang @ritazh  

以及发布经理团队：  
Sascha Grunert @saschagrunert  
Jeremy Rickard @jeremyrickard  
Carlos Panato @cpanato  
Jim Angel @jimangel  

<!-- labels -->
/area security  
/kind bug  
/committee security-response  
/sig windows  
/area kubelet  
/triage accepted  
/lifecycle frozen