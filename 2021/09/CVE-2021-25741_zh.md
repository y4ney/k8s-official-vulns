在 Kubernetes 中发现一个安全问题：用户可能通过创建带有子路径(subpath)卷挂载的容器，访问卷外部的文件及目录，包括宿主机文件系统。

该问题被评定为**高危**（[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H)），并分配编号 **CVE-2021-25741**。

### 受影响组件与配置
此漏洞影响 kubelet。

集群管理员已限制创建 hostPath 挂载能力的受影响最严重。攻击者可绕过限制，在不使用 hostPath 功能的情况下实现类似 hostPath 的访问。

在默认 Kubernetes 环境中，该漏洞可能被用于掩盖已授予权限的滥用行为。

#### 受影响版本
v1.22.0 - v1.22.1

v1.21.0 - v1.21.4

v1.20.0 - v1.20.10

<= v1.19.14

#### 修复版本
以下版本已修复该问题：

v1.22.2

v1.21.5

v1.20.11

v1.19.15

### 缓解措施
在不升级 kubelet 的情况下，可通过在 kubelet 和 kube-apiserver 上禁用 VolumeSubpath 特性门控，并删除所有使用该特性的现有 Pod 来缓解此漏洞。

还可通过准入控制阻止低信任用户以 root 身份运行容器，从而降低漏洞被成功利用的影响。

### 检测
如发现该漏洞被利用的证据，请联系 security@kubernetes.io

### 补充说明
更多详情请参阅 Kubernetes Issue #104980。

### 致谢
此漏洞由 Google 的 Fabricio Voznika 和 Mark Wolters 报告。

同时感谢 Ian Coldwater、Duffie Cooley、Brad Geesaman 和 Rory McCune 为发现此漏洞所做的全面安全研究。