---CVSS 评分: [CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H) - **高危** (7.2)

在 Kubernetes 中发现一个安全问题：能够在 Windows 节点上创建 Pod 和持久卷的用户可能提升至该节点的管理员权限。仅当集群为 Windows 节点使用树内存储插件时才会受影响。

### 我是否受影响？

任何包含 Windows 节点的 Kubernetes 环境均受影响。执行 `kubectl get nodes -l kubernetes.io/os=windows` 可查看是否存在 Windows 节点。

#### 受影响版本

- kubelet >= v1.8.0（包括所有后续次要版本）

### 如何缓解此漏洞？

提供的补丁可完全修复该漏洞。

除应用补丁外，目前没有其他已知的缓解措施。

#### 已修复版本

- kubelet master - 通过 #121881 修复
- kubelet v1.28.4 - 通过 #121882 修复
- kubelet v1.27.8 - 通过 #121883 修复
- kubelet v1.26.11 - 通过 #121884 修复
- kubelet v1.25.16 - 通过 #121885 修复

升级方法请参考文档：
https://kubernetes.io/docs/tasks/administer-cluster/cluster-management/#upgrading-a-cluster

### 检测方法

可通过 Kubernetes 审计日志检测是否遭受攻击。若持久卷创建事件中的本地路径字段包含特殊字符，则极可能正在被利用。

如发现漏洞利用证据，请联系 security@kubernetes.io

#### 致谢

本漏洞由 Tomer Peled [@tomerpeled92](https://github.com/tomerpeled92) 报告

修复团队完成漏洞修复与协调工作：
James Sturtevant @jsturtevant  
Mark Rossetti @marosset  
Michelle Au @msau42  
Jan Šafránek @jsafrane  
Mo Khan @enj  
Rita Zhang @ritazh  
Micah Hausler @micahhausler  
Sri Saran Balaji @SaranBalaji90  
Craig Ingram @cji  

以及发布经理：
Jeremy Rickard @jeremyrickard  
Marko Mudrinić @xmudrii  

/area security  
/kind bug  
/committee security-response  
/label official-cve-feed  
/sig windows  
/sig storage  
/area kubelet