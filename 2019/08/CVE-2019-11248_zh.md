---
调试端点 `/debug/pprof` 通过未认证的 Kubelet healthz 端口暴露。1.15.0、1.14.4、1.13.8 和 1.12.10 之前的版本受影响。该问题属于中等严重性，但默认配置下不会暴露。如果您的环境存在风险，建议至少升级到列出的某个版本。

**我是否受影响？**  
默认情况下，Kubelet 在 :10248 端口暴露未认证的 healthz 端点，但仅限于 localhost。如果您的节点使用了非 localhost 的 healthzBindAddress (--health-bind-address) 并且运行旧版本，则可能受影响。如果节点使用默认的 localhost healthzBindAddress，则仅暴露给在主机网络命名空间中运行的 Pod 或进程。

执行 `kubectl get nodes` 查看节点是否运行受影响版本。

执行 `kubectl get --raw /api/v1/nodes/${NODE_NAME}/proxy/configz` 检查 "healthzBindAddress" 是否为非本地地址。

**如何缓解漏洞？**  
* 升级到已修复版本 (1.15.0+, 1.14.4+, 1.13.8+, 或 1.12.10+)
* 或者，修改节点配置将 "healthzBindAddress" 设置为 "127.0.0.1"

https://github.com/kubernetes/kubernetes/pull/79184 在 1.12.10 修复  
https://github.com/kubernetes/kubernetes/pull/79183 在 1.13.8 修复  
https://github.com/kubernetes/kubernetes/pull/79182 在 1.14.4 修复  
https://github.com/kubernetes/kubernetes/pull/78313 在 1.15.0 修复  

**漏洞详情**  
`go pprof` 端点通过 Kubelet 的 healthz 端口暴露。此调试端点可能泄露敏感信息，如 Kubelet 内部内存地址和配置，或造成有限的拒绝服务。

感谢 F5 Networks 的 Jordan Zebor 报告此问题。

/area security  
/close