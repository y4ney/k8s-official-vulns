---  
此问题最初在[Kubernetes安全审计报告](https://github.com/kubernetes/community/blob/master/wg-security-audit/findings/Kubernetes%20Final%20Report.pdf)中被披露  

**问题描述**  
Kubernetes需要认证机制来实施用户权限控制。其中一种认证方式是持有者令牌(Bearer Token)，这种不透明字符串用于标识已完成认证的用户。任何获取到此令牌的用户都可以直接伪装成原始用户("持有者")，无需再次认证。  

在Kubernetes中，当hyperkube kube-apiserver系统日志级别设置为高详细度(--v 10)时，持有者令牌会被记录到日志中。能够访问此类系统日志的恶意用户，可以伪装成任何曾登录过系统的用户。  

**攻击场景**  
Alice登录Kubernetes集群并获得Bearer令牌，系统日志记录了该令牌。Eve能够访问日志文件但无权访问生产集群，她通过重放Alice的Bearer令牌，就可以在集群中伪装成Alice身份。  

**修复建议**  
短期方案：从日志中移除Bearer令牌。无论日志级别如何设置，都不应在系统日志中记录任何认证凭据，包括令牌、私钥或可用于访问生产集群的密码。  

长期方案：要么实施代码审查策略确保敏感数据不会出现在日志中，要么部署日志过滤器在输出前检测并移除敏感数据。无论采用哪种方案，都应确保敏感数据不会被轻易记录到日志中。  

**其他补充信息**：  
所有基于该审计发现创建的问题当前状态请参见#81146  

供应商将此问题编号为TOB-K8S-001，在报告中列为第6项发现。  

供应商评估此问题为中等严重等级。  

查看原始发现请参阅[Kubernetes安全审查报告](https://github.com/kubernetes/community/blob/master/wg-security-audit/findings/Kubernetes%20Final%20Report.pdf)第31页  

**影响环境**：  
- Kubernetes版本：1.13.4