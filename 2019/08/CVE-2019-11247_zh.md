---[CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:L](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:L)

API 服务器错误地允许访问集群作用域（cluster-scoped）的自定义资源，当请求以命名空间资源的形式发起时。通过这种方式访问的资源的授权将使用命名空间内的角色（roles）和角色绑定（role bindings）来强制执行，这意味着仅能访问某一命名空间资源的用户可以创建、查看、更新或删除集群作用域的资源（根据其命名空间角色权限）。

**受影响版本：**
Kubernetes 1.7.x-1.12.x
Kubernetes 1.13.0-1.13.8
Kubernetes 1.14.0-1.14.4
Kubernetes 1.15.0-1.15.1

**受影响配置：**
所有包含针对集群作用域自定义资源的授权规则的角色（roles）和集群角色（clusterroles）绑定的集群。

**漏洞影响：**
拥有单一命名空间自定义资源访问权限的用户可以访问集群作用域的自定义资源。

**升级前缓解措施：**
为缓解此问题，请移除命名空间内授予集群作用域资源访问权限的授权规则。例如，不应在计划由命名空间角色绑定引用的 RBAC 角色和集群角色中授予 `resources:[*], apiGroups:[*]` 的权限，或授予集群作用域自定义资源的访问权限。

**修复版本：**
v1.13.9 通过 #80852 修复
v1.14.5 通过 #80851 修复
v1.15.2 通过 #80850 修复
master 分支通过 #80750 修复

**修复影响：**
访问集群作用域自定义资源将需要正确作用域的权限。

**致谢：**
此问题由 Verizon Media 的 Prabu Shyam 发现。感谢 Stefan Schimanski 提供的修复，David Eads 的修复审查，以及发布经理创建的安全版本。