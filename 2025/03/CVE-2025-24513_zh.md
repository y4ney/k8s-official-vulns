---CVSS 评分：[CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:N/A:L](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:H/PR:N/UI:N/S:U/C:L/I:N/A:L)) (评分：4.8，中危)

在 [ingress-nginx](https://github.com/kubernetes/ingress-nginx) 中发现一个安全问题：当攻击者提供的数据被 ingress-nginx Admission Controller 功能包含在文件名中时，会导致容器内的目录遍历。这可能造成拒绝服务，或与其他漏洞结合时导致集群中 Secret 对象的有限泄露。

### 我是否受影响？

此问题影响 ingress-nginx。如果您的集群未安装 ingress-nginx，则不受影响。您可以通过运行 \`kubectl get pods \--all-namespaces \--selector app.kubernetes.io/name=ingress-nginx\` 进行确认。

#### 受影响版本

- < v1.11.0  
- v1.11.0 \- 1.11.4  
- v1.12.0  

### 如何缓解此漏洞？

**必须执行以下操作以缓解此漏洞**：将 ingress-nginx 升级至 v1.11.5、v1.12.1 或更高版本。

在应用补丁前，可通过禁用 ingress-nginx 的 Validating Admission Controller 功能临时缓解此问题。

#### 已修复版本

- ingress-nginx [main@cbc1590](https://github.com/kubernetes/ingress-nginx/pull/13068/commits/cbc159094f6d1b1bf8cf1761eb119138d1f95df1)

升级方法请参考文档：[升级 Ingress-nginx](https://kubernetes.github.io/ingress-nginx/deploy/upgrade/)

### 检测

目前未发现能证明此漏洞已被利用的已知入侵指标。

如您发现此漏洞被利用的证据，请联系 security@kubernetes.io

#### 致谢

此漏洞由 Wiz 的 Nir Ohfeld 和 Ronen Shustin 报告

修复与协调工作由 Marco Ebert、James Strong、Tabitha Sable 及 Kubernetes 安全响应委员会完成